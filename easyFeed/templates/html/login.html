<!-- 
    Auteur: Ansoumane Condé
    Date:   22 Avril 2024
    Nom:    LOGIN
 -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Pathway+Extreme:ital,opsz,wght@0,8..144,100..900;1,8..144,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/login.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <div class="left">
        <div class="title-container">
            <span class="title">
                <span class="green">Easy</span><span class="yellow">Feed</span>
            </span> <br/>
            <span class="subtitle">
                Laissez nous faire votre formulation
            </span>
        </div>
    </div>

    <div class="right">

        <div class="container">
            <h1>Bienvenue sur EasyFeed</h1>
            <form>
                {% csrf_token %}    <!--donner les permissions (autorison lorsqu'on fait du json en django)-->
                <div class="loginFrame">
                    <label>Email<br>
                        <input type="email" id="username">
                    </label><br>
                    <label>Mot de passe<br><input type="password" id="password"></label><br>

                    <div class="test">
                        <input type="checkbox" id="chkconditions" name="chkbox">
                        <label for="chkconditions" class="text-condition">J'accepte les <a href="#" class="info-condition">Conditions d'utilisation</a>  d'EasyFeed et la <a href="#" class="info-condition">politique de confidentialité</a> </label>
                    </div>

                    <p  class="text-condition">Avez vous déjà un compte? <a class="info-condition" href="../signup">Inscrivez-vous ici</a></p>

                    <button type="button" id="btn-login">Se connecter</button>
                </div>
                
            </form>
        </div>
    </div>
    <script>
        // definir les ulrs
        let url_login = '{% url "easyFeed:connexion" %}';
        let url_dashboard = '{% url "easyFeed:dashboard" %}';

        // Gestion du mot de passe

            // masquer ou afficher le mot de passe
            let hidePasswordSvg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#6B7280" class="w-4 h-4"><path d="M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z" /><path d="M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z" /><path d="M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z" /></svg>';

            let showPasswordSvg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#6B7280" class="w-4 h-4"><path d = "M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" /><path fill-rule="evenodd" d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z" clip-rule="evenodd" /></svg >';

            $('#toggle-password').click(function () {
                let password = $('#floating_password');
                password.attr('type', password.attr('type') === 'password' ? 'text' : 'password');
                $(this).html(password.attr('type') === 'password' ? hidePasswordSvg : showPasswordSvg);
            });

            $('#toggle-confirm-password').click(function () {
                let confirmPassword = $('#floating_repeat_password');
                confirmPassword.attr('type', confirmPassword.attr('type') === 'password' ? 'text' : 'password');
                $(this).html(confirmPassword.attr('type') === 'password' ? hidePasswordSvg : showPasswordSvg);
            });

        // Gerer la taille du mot de passe
            $('#floating_password').keyup(function () {
                if ($(this).val().length < 4) {
                    $(".password").css('color', 'red');
                    $(this).css('border-color', 'red');

                    $('#password-error').html('Le mot de passe doit contenir au moins 4 caractères');
                }
                else {
                    $(this).css('border-color', 'teal');
                    $(".password").css('color', 'teal');
                    $('#password-error').html('');
                }
            });

    </script>
    <script src="../../static/js/backend.js"></script>
</body>
</html>